---
plugin: aws_ec2
regions: 
  - ap-southeast-2
# keyed_groups:
#   - key: tags
#     prefix: tag
#   - prefix: instance_type
#     key: instance_type
#   - key: placement.region
#     prefix: aws_region
keyed_groups: # Create groups for each region
- key: placement.region # aws_region_us_east_2
  prefix: aws_region
compose: # Set individual hostvars
  ec2_state: state.name
groups:
  ec2: true # conditional groups
  platform_undefined: platform is not defined

aws_access_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32653639383762623563653838373161373963383063313364353437613738363265623834653065
          3337663934373132643538316561646539623536613737360a366137356137353436316539636539
          33323436393034663132366531336165633135383463616538316637646239346635643735623530
          6431373062303039340a383161376338366533623561663738386361663139636537393033626432
          32346338383338313135306636313865373262633936386135303434383434313737
aws_secret_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64663762386630333438653736326464393933376631373934626362383435323865366564633432
          3833303038663733396538653733636361363434336364390a343031616530386237316332366236
          36626238323466643966346665646365363037373436336464626163643765303231663431663831
          3138393937646335630a356664623766393432643461396337373533353165383361313233396263
          35636665663533623939646261623439336634653836613131646361363133303935653537343533
          6136316162656366626563303035666166316337653738363265
